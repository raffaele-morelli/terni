---
title: "Terni distrubuzione traccianti"
output: 
  html_document:
    toc: true
    toc_depth: 2
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)

{
  library(ggplot2)
  library(chron)
  library(readxl)
  library(dplyr)
} 

elements_data_rev <- read_excel("~/R/terni/data/TERNI PM Elements Data_rev2.xlsx")

pltnts <- names(elements_data_rev)[17:87]
pltnts <- grep("^[A-L]", pltnts, value = TRUE) 

```


```{r, results='asis', message=FALSE,echo=FALSE, warning=FALSE}

for (pltnt in pltnts) {
  # cat("\n## ", pltnt, "\n\n")

  data.frame(obs = elements_data_rev[[pltnt]], trasf = log(elements_data_rev[[pltnt]]) ) %>% 
    reshape2::melt() -> df
  
  ggplot(df, aes(x = value )) +
    geom_histogram(bins = 50, na.rm = TRUE, orientation = "x", fill = "dodgerblue") +
    facet_wrap(~variable, scales = "free") +
    theme(axis.title.y = element_blank(), axis.title.x = element_blank()) +
    ggtitle(pltnt) -> g
  print(g)
  
  cat("\n\n")
}
```


